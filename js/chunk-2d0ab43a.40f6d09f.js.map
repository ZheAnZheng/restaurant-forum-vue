{"version":3,"sources":["webpack:///./src/views/User.vue?51aa","webpack:///./src/components/UserProfileCard.vue?0d64","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?a783","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?afd8","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?fb9b","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?fde8","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","profile","isProfileOwner","isFollowed","on","updateAfterFollowing","Followings","Followers","Comments","FavoritedRestaurants","staticRenderFns","image","_v","_s","name","email","length","params","id","directives","rawName","value","initialIsFollowed","expression","$event","stopPropagation","preventDefault","addFollowing","deleteFollowing","props","type","Object","required","Boolean","data","pageId","Number","methods","component","followings","_l","following","key","followers","follower","comments","comment","Restaurant","favoriteRestaurants","restaurant","components","UserProfileCard","UserFollowingsCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","Spinner","password","isAdmin","createAt","updatedAt","isLoading","created","fetchUser","computed","isCurrentUserEqualProfileUser","console","log","currentUser"],"mappings":"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","file":"js/chunk-2d0ab43a.40f6d09f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[(_vm.isLoading)?_c('Spinner'):[_c('user-profile-card',{attrs:{\"profile\":_vm.profile,\"isProfileOwner\":_vm.isProfileOwner,\"initialIsFollowed\":_vm.isFollowed},on:{\"updateAfterFollowing\":_vm.updateAfterFollowing}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('user-followings-card',{attrs:{\"followings\":_vm.profile.Followings}}),_c('br'),_c('user-followers-card',{attrs:{\"followers\":_vm.profile.Followers}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('user-comments-card',{attrs:{\"comments\":_vm.profile.Comments}}),_c('br'),_c('user-favorited-restaurants-card',{attrs:{\"favoriteRestaurants\":_vm.profile.FavoritedRestaurants}})],1)])]],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm.profile.image,\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.profile.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.profile.email))]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Comments.length))]),_vm._v(\" 已評論餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.FavoritedRestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followings.length))]),_vm._v(\" followings (追蹤者) \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.profile.Followers.length))]),_vm._v(\" followers (追隨者) \")])]),(_vm.isProfileOwner)?_c('p',[_c('router-link',{attrs:{\"to\":{ name: 'users-edit', params: { id: _vm.profile.id } }}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" edit \")])])],1):_c('p',[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.initialIsFollowed),expression:\"!initialIsFollowed\"}],staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowing(_vm.profile.id)}}},[_vm._v(\" Add Following \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.initialIsFollowed),expression:\"initialIsFollowed\"}],staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowing(_vm.profile.id)}}},[_vm._v(\" Delete Following \")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card mb-3\">\n    <div class=\"row no-gutters\">\n      <div class=\"col-md-4\">\n        <img :src=\"profile.image\" width=\"300px\" height=\"300px\" />\n      </div>\n      <div class=\"col-md-8\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title\">{{ profile.name }}</h5>\n          <p class=\"card-text\">{{ profile.email }}</p>\n          <ul class=\"list-unstyled list-inline\">\n            <li>\n              <strong>{{ profile.Comments.length }}</strong> 已評論餐廳\n            </li>\n            <li>\n              <strong>{{ profile.FavoritedRestaurants.length }}</strong>\n              收藏的餐廳\n            </li>\n            <li>\n              <strong>{{ profile.Followings.length }}</strong> followings\n              (追蹤者)\n            </li>\n            <li>\n              <strong>{{ profile.Followers.length }}</strong> followers (追隨者)\n            </li>\n          </ul>\n          <p v-if=\"isProfileOwner\">\n            <router-link\n              :to=\"{ name: 'users-edit', params: { id: profile.id } }\"\n              ><button type=\"submit\" class=\"btn btn-primary\">\n                edit\n              </button></router-link\n            >\n          </p>\n          <p v-else>\n            <button\n              type=\"submit\"\n              v-show=\"!initialIsFollowed\"\n              class=\"btn btn-success\"\n              @click.stop.prevent=\"addFollowing(profile.id)\"\n            >\n              Add Following\n            </button>\n            <button\n              type=\"submit\"\n              v-show=\"initialIsFollowed\"\n              class=\"btn btn-danger\"\n              @click.stop.prevent=\"deleteFollowing(profile.id)\"\n            >\n              Delete Following\n            </button>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Toast } from \"../utils/helpers.js\";\nimport usersAPI from \"../apis/users.js\";\nexport default {\n  props: {\n    profile: {\n      type: Object,\n      required: true,\n    },\n    isProfileOwner: {\n      type: Boolean,\n      required: true,\n    },\n    initialIsFollowed:{\n      type:Boolean,\n      required:true\n    }\n  },\n  data() {\n    return {\n      pageId: Number(this.profile.id),\n    };\n  },\n  methods: {\n    async addFollowing(userId) {\n      try{\n        const {data} =await usersAPI.addFollowing({userId})\n        if(data.status!==\"success\"){\n          throw Error(data.message)\n        }\n        console.log(data)\n      }catch(e){\n        console.log(e);\n        Toast.fireError('無法取消追蹤，請稍後再試')\n      }\n      this.$emit('updateAfterFollowing')\n    },\n    async deleteFollowing(userId){\n      try{\n        const {data} =await usersAPI.deleteFollowing({userId});\n        if(data.status!==\"success\"){\n          throw new Error(data.message)\n        }\n        this.$emit('updateAfterFollowing')\n      }catch(e){\n        console.log(e.message);\n        Toast.fireError('取消追蹤失敗，請稍後再試')\n      }\n    }\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=9d8f813c&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followings.length))]),_vm._v(\" followings (追蹤者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,attrs:{\"to\":(\"\" + (following.id))}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":following.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{followings.length}}</strong> followings (追蹤者)</div>\n    <div class=\"card-body\">\n        <router-link v-for=\"following in followings\" :key=\"following.id\" :to=\"`${following.id}`\">\n              <img :src=\"following.image\" width=\"60\" height=\"60\" class=\"avatar\">\n          </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    props:{\n        followings:{\n            type:Array\n        }\n    },\n    watch:{\n      followings(newVal){\n        this.followings=newVal;\n      }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=2b7bf23e&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followers.length))]),_vm._v(\" followers (追隨者)\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,attrs:{\"to\":{name:'users',params:{id:_vm.followers.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{followers.length}}</strong> followers (追隨者)</div>\n    <div class=\"card-body\">\n      <router-link v-for=\"follower in followers\" :key=\"follower.id\" :to=\"{name:'users',params:{id:followers.id}}\">\n        <img\n          :src=\"follower.image\"\n          width=\"60\"\n          height=\"60\"\n          class=\"avatar\"\n        />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n    props:{\n        followers:{\n          type:Array\n        }\n    },\n    watch:{\n      followers(newVal){\n        this.followers=newVal;\n      }\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=f7d05fd8&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.comments.length))]),_vm._v(\" 已評論餐廳\")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,attrs:{\"to\":{name:'restaurant',params:{id:comment.Restaurant.id}}}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.Restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"card\">\n    <div class=\"card-header\"><strong>{{comments.length}}</strong> 已評論餐廳</div>\n    <div class=\"card-body\">\n      <router-link v-for=\"comment in comments\" :key=\"comment.id\" :to=\"{name:'restaurant',params:{id:comment.Restaurant.id}}\">\n        <img :src=\"comment.Restaurant.image\" width=\"60\" height=\"60\" class=\"avatar\" />\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props:{\n      comments:Array\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=4b9066ef&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoriteRestaurants.length))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoriteRestaurants),function(restaurant){return _c('router-link',{key:restaurant.id,attrs:{\"to\":(\"/restaurants/\" + (restaurant.id))}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <strong>{{favoriteRestaurants.length}}</strong> 收藏的餐廳\n      </div>\n      <div class=\"card-body\">\n          <router-link v-for=\"restaurant in favoriteRestaurants\" :key=\"restaurant.id\" :to=\"`/restaurants/${restaurant.id}`\">\n            <img :src=\"restaurant.image\" width=\"60\" height=\"60\" class=\"avatar\">\n          </router-link>\n          \n      </div>\n    </div>\n</template>\n<script>\nexport default {\n    props:{\n        favoriteRestaurants:Array\n    }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=b3de61b0&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"album py-5 bg-light\">\n    <div class=\"container\">\n      <!-- userProfileCard -->\n      <Spinner v-if=\"isLoading\" />\n      <template v-else>\n        <user-profile-card\n          :profile=\"profile\"\n          :isProfileOwner=\"isProfileOwner\"\n          :initialIsFollowed=\"isFollowed\"\n          @updateAfterFollowing=\"updateAfterFollowing\"\n        ></user-profile-card>\n        <div class=\"row\">\n          <div class=\"col-md-4\">\n            <!-- userFollowingsCard -->\n            <user-followings-card\n              :followings=\"profile.Followings\"\n            ></user-followings-card>\n            <br />\n            <!-- userFollowersCard -->\n            <user-followers-card\n              :followers=\"profile.Followers\"\n            ></user-followers-card>\n          </div>\n          <div class=\"col-md-8\">\n            <!-- userCommentsCard -->\n            <user-comments-card\n              :comments=\"profile.Comments\"\n            ></user-comments-card>\n            <br />\n            <!-- userFavoritedRestaurantsCard -->\n            <user-favorited-restaurants-card\n              :favoriteRestaurants=\"profile.FavoritedRestaurants\"\n            >\n            </user-favorited-restaurants-card>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n<script>\nimport UserProfileCard from \"../components/UserProfileCard.vue\";\nimport UserFollowingsCard from \"../components/UserFollowingsCard.vue\";\nimport UserFollowersCard from \"../components/UserFollowersCard.vue\";\nimport UserCommentsCard from \"../components/UserCommentsCard.vue\";\nimport UserFavoritedRestaurantsCard from \"../components/UserFavoritedRestaurantsCard.vue\";\nimport usersAPI from \"../apis/users.js\";\nimport { Toast } from \"../utils/helpers.js\";\nimport { mapState } from \"vuex\";\nimport Spinner from \"../components/Spinner.vue\";\n\nexport default {\n  components: {\n    UserProfileCard,\n    UserFollowingsCard,\n    UserFollowersCard,\n    UserCommentsCard,\n    UserFavoritedRestaurantsCard,\n    Spinner,\n  },\n  data() {\n    return {\n      profile: {\n        id: -1,\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        isAdmin: \"\",\n        image: \"\",\n        createAt: \"\",\n        updatedAt: \"\",\n        Comments: [],\n        FavoritedRestaurants: [],\n        Followers: [],\n        Followings: [],\n      },\n      isFollowed: false,\n      isLoading: true,\n    };\n  },\n  created() {\n    const { id } = this.$route.params;\n\n    this.fetchUser(id);\n  },\n  computed: {\n    isProfileOwner() {\n      return this.isCurrentUserEqualProfileUser();\n    },\n    ...mapState([\"currentUser\"]),\n  },\n  methods: {\n    async fetchUser(userId) {\n      try {\n        const response = await usersAPI.get({ userId });\n\n        console.log(response.data);\n        if (response.statusText !== \"OK\") {\n          throw new Error(\"cant fetch User\");\n        }\n        this.profile = response.data.profile;\n        this.isFollowed = response.data.isFollowed;\n        this.isLoading = false;\n      } catch (e) {\n        console.log(e);\n        this.isLoading = false;\n        Toast.fireError(\"讀取失敗，請稍後再試\");\n      }\n    },\n    updateAfterFollowing() {\n      const { id } = this.profile;\n      this.fetchUser(id);\n    },\n    isCurrentUserEqualProfileUser() {\n      console.log(this.profile.id);\n      console.log(this.currentUser.id);\n      return this.profile.id == this.currentUser.id;\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=4d6929de&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}